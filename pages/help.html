<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/common.css">
    <link rel="stylesheet" href="../style/help.css">
    <title>Help</title>
</head>
<body>
    <nav class="sidebar close">
        <header>
            <div class="image-text">
                <span class="image">
                    <!--<img src="logo.png" alt="">-->
                </span>

                <div class="text logo-text">
                    <span class="name">Election App</span>
                    <!-- <span class="profession">Web developer</span> -->
                </div>
            </div>

            <i class='bx bx-chevron-right toggle'></i>
        </header>

        <div class="menu-bar">
            <div class="menu">

                <ul class="menu-links">
                    <li class="nav-link">
                        <a href="../index.html">
                            <i class='bx bx-home-alt icon' ></i>
                            <span class="text nav-text">Home</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="../pages/createform.html">
                            <i class='bx bx-bar-chart-alt-2 icon' ></i>
                            <span class="text nav-text">Create Form</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="../pages/results.html">
                            <i class='bx bx-bell icon'></i>
                            <span class="text nav-text">Results</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="../pages/voting.html">
                            <i class='bx bx-pie-chart-alt icon' ></i>
                            <span class="text nav-text">Student Voting</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="../pages/form.html">
                            <i class='bx bx-heart icon' ></i>
                            <span class="text nav-text">View Form</span>
                        </a>
                    </li>

                    <li class="nav-link">
                        <a href="../pages/help.html">
                            <i class='bx bx-question-mark icon' ></i>
                            <span class="text nav-text">Help</span>
                        </a>
                    </li>

                </ul>
            </div>

            <div class="bottom-content">
                <li class="">
                    <a href="#">
                        <i class='bx bx-log-out icon' ></i>
                        <span class="text nav-text">Logout</span>
                    </a>
                </li>
            </div>
        </div>

    </nav>
    <div class="home">
        <h1>Help page: FAQs, Contact Form</h1>
        <div class="container">
            <h1 class="brand"><span>Acme</span> Web Design</h1>
            <div class="wrapper">
              <div class="company-info">
                <h3>Acme Web Design</h3>
                <ul>
                  <li><i class="fa fa-road"></i> 44 Something st</li>
                  <li><i class="fa fa-phone"></i> (555) 555-5555</li>
                  <li><i class="fa fa-envelope"></i> test@acme.test</li>
                </ul>
              </div>
              <div class="contact">
                <h3>Email Us</h3>
                <div class="alert">Your message has been sent</div>
                <form id="contactForm">
                  <p>
                    <label>Name</label>
                    <input type="text" name="name" id="name" required>
                  </p>
                  <p>
                    <label>Company</label>
                    <input type="text" name="company" id="company">
                  </p>
                  <p>
                    <label>Email Address</label>
                    <input type="email" name="email" id="email" required>
                  </p>
                  <p>
                    <label>Phone Number</label>
                    <input type="text" name="phone" id="phone">
                  </p>
                  <p class="full">
                    <label>Message</label>
                    <textarea name="message" rows="5" id="message"></textarea>
                  </p>
                  <p class="full">
                    <button type="submit">Submit</button>
                  </p>
                </form>
              </div>
            </div>
          </div>
        
        </div>
        <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
    <script>
        const body = document.querySelector('body')
      const sidebar = body.querySelector('nav')
      const toggle = body.querySelector(".toggle")

        toggle.addEventListener("click" , () =>{
    sidebar.classList.toggle("close");
})

const firebaseConfig = {
        apiKey: "AIzaSyAKQ7x0iXdc9zPASPl8fe0Zy3w977sslwQ",
        authDomain: "schooltransportthingtest.firebaseapp.com",
        databaseURL:
          "https://schooltransportthingtest-default-rtdb.firebaseio.com",
        projectId: "schooltransportthingtest",
        storageBucket: "schooltransportthingtest.appspot.com",
        messagingSenderId: "1022909830472",
        appId: "1:1022909830472:web:14e6c0005a15bcfbed4f7d",
        measurementId: "G-9477HH598G",
      };
firebase.initializeApp(firebaseConfig);

// Reference messages collection
var messagesRef = firebase.database().ref('messages');

// Listen for form submit
document.getElementById('contactForm').addEventListener('submit', submitForm);

// Submit form
function submitForm(e){
  e.preventDefault();

  // Get values
  var name = getInputVal('name');
  var company = getInputVal('company');
  var email = getInputVal('email');
  var phone = getInputVal('phone');
  var message = getInputVal('message');

  // Save message
  saveMessage(name, company, email, phone, message);

  // Show alert
  document.querySelector('.alert').style.display = 'block';

  // Hide alert after 3 seconds
  setTimeout(function(){
    document.querySelector('.alert').style.display = 'none';
  },3000);

  // Clear form
  document.getElementById('contactForm').reset();
}

// Function to get get form values
function getInputVal(id){
  return document.getElementById(id).value;
}

// Save message to firebase
function saveMessage(name, company, email, phone, message){
  var newMessageRef = messagesRef.push();
  newMessageRef.set({
    name: name,
    company:company,
    email:email,
    phone:phone,
    message:message
  });
}
    </script>
</body>
</html>